# see http://about.travis-ci.org/docs/user/languages/php/ for more hints
language: php

# list any PHP version you want to test against
php:
  # using major version aliases
  - 5.3

# optionally specify a list of environments, for example to test different RDBMS
env:
  - DB=mysql

# execute any number of scripts before the test run, custom env's are available as variables

before_script:
  - sh -c "mysql -e 'create database IF NOT EXISTS wp_travis;' -uroot;"
  - cd wp-content
  - sh -c "mysql -u root -h localhost wp_travis < wp_travis.sql"
  - sh -c "mysql -e 'USE wp_travis'"
  - sh -c "mysql -e 'DESCRIBE wp_options'"
  - cd ../
  - wget http://wordpress.org/latest.tar.gz
  - tar xfz latest.tar.gz
  - cd wordpress
  - rm -rf wp-content/
  - cp -rpf * ../
  - cd ..
  - rm -rf wordpress/
  - rm -f latest.tar.gz
  - cp wp-content/travis-config.php wp-config.php
  - cp wp-content/travis-unit-config.php wp-content/plugins/wp-tests/unittests-config.php